import numpy as np

# Board size
BOARD_SIZE = 7

# List of initial board configurations
INITIAL_MAPS = [
    # MAP1
    np.array([
        [ 1,  1,  1,  1, -1, -1,  0],
        [-1,  1,  1,  1, -1, -1, -1],
        [-1, -1,  1,  1, -1,  1,  0],
        [-1, -1,  1,  1,  1,  1,  1],
        [ 1,  1,  1, -1, -1, -1,  1],
        [ 0, -1,  1, -1, -1, -1, -1],
        [ 0,  0,  1, -1, -1, -1,  1]
    ], dtype=int),

    # MAP2
    np.array([
        [-1, -1,  0,  0,  0,  0, -1],
        [ 0, -1,  0,  0,  0,  1,  0],
        [ 0,  0,  0,  0, -1,  0,  0],
        [ 0,  0,  0,  1,  1,  0,  0],
        [ 0,  0,  1,  1,  1,  1,  0],
        [ 0,  0,  1,  1,  1,  1,  0],
        [-1,  0,  0,  1, -1,  1,  0]
    ], dtype=int),

    # MAP3
    np.array([
        [ 1,  1,  1,  1,  1,  1,  1],
        [-1,  1,  1,  1,  1,  1,  1],
        [ 1,  1,  1, -1, -1, -1,  1],
        [ 1, -1, -1, -1, -1, -1,  1],
        [ 1, -1, -1, -1, -1, -1,  1],
        [ 0, -1, -1, -1, -1, -1, -1],
        [ 0,  0,  1, -1, -1, -1,  1]
    ], dtype=int),

    # MAP4
    np.array([
        [ 0,  1,  1,  1,  1,  1,  0],
        [ 1,  1, -1, -1, -1,  1,  0],
        [ 0, -1, -1, -1, -1,  1,  0],
        [ 0, -1,  1,  1, -1, -1,  0],
        [-1, -1, -1,  1,  1, -1,  1],
        [ 0, -1, -1,  1,  1, -1,  1],
        [ 0, -1, -1, -1,  1,  0,  0]
    ], dtype=int),

    # MAP5
    np.array([
        [-1,  0,  0,  0,  0,  0, -1],
        [-1, -1,  0,  0,  0, -1, -1],
        [ 0,  0,  0,  0, -1, -1, -1],
        [ 0,  0,  0,  0, -1, -1, -1],
        [ 0,  0,  0,  1, -1,  1, -1],
        [ 0,  0, -1, -1, -1, -1, -1],
        [-1,  0, -1, -1,  1, -1, -1]
    ], dtype=int),

    # MAP6
    np.array([
        [-1,  0,  0,  0,  0,  0,  0],
        [ 0, -1,  1,  1,  0,  0, -1],
        [ 0, -1, -1, -1,  1,  1,  1],
        [ 0,  0,  1, -1, -1,  1,  1],
        [ 0,  1,  1, -1,  1,  1,  1],
        [ 1,  1,  1,  1, -1, -1,  1],
        [ 0,  1, -1,  1, -1, -1, -1]
    ], dtype=int),

    # MAP7
    np.array([
        [ 0,  1,  0,  0, -1, -1, -1],
        [-1,  1,  1,  0,  0, -1, -1],
        [ 1,  1,  1,  1, -1, -1,  1],
        [ 1,  1,  1, -1, -1, -1,  0],
        [ 1,  1, -1, -1,  0,  0,  0],
        [ 0,  0,  0,  0,  0,  1,  1],
        [ 0,  0,  0,  0,  0,  1,  1]
    ], dtype=int),

    # MAP8
    np.array([
        [ 1,  0,  0,  0,  0,  0,  0],
        [ 0,  0,  0,  0,  0,  0,  0],
        [ 0,  0,  0,  0, -1, -1,  0],
        [ 0,  0,  1,  1, -1, -1,  0],
        [ 0,  1,  1,  1, -1, -1, -1],
        [ 0, -1,  1,  1,  1, -1, -1],
        [ 0, -1, -1, -1, -1, -1, -1]
    ], dtype=int),

    # MAP9
    np.array([
        [ 1,  0,  1,  0,  0,  0,  1],
        [ 0,  1,  0,  0,  0,  1,  1],
        [ 0,  0,  0,  0, -1,  1,  0],
        [ 0,  0,  0, -1, -1,  0,  0],
        [-1,  0,  0,  0, -1,  1,  0],
        [ 0, -1,  0,  0,  0,  0,  0],
        [-1,  0,  0,  0,  0,  1,  1]
    ], dtype=int),

    # MAP10
    np.array([
        [ 1,  0, -1,  0,  0,  0, -1],
        [ 1, -1,  1,  0,  0,  0,  0],
        [ 1, -1,  1,  1,  0,  0,  0],
        [-1, -1,  1,  1,  0,  0,  0],
        [-1, -1, -1, -1,  0,  0,  0],
        [ 1,  1,  1,  1,  0,  1,  1],
        [ 1,  1,  1,  1,  0,  1,  1]
    ], dtype=int),

    # MAP11
    np.array([
        [-1, -1, -1,  1, -1, -1,  1],
        [-1, -1, -1,  1, -1, -1,  1],
        [ 1,  1, -1, -1, -1,  1,  1],
        [ 1, -1,  1,  1,  1,  1,  1],
        [ 0, -1, -1, -1,  0,  0,  0],
        [-1,  1,  1,  0,  0,  0,  0],
        [ 0,  1,  1,  0,  0,  0,  0]
    ], dtype=int),

    # MAP12
    np.array([
        [ 1,  0,  0,  0,  0,  0, -1],
        [ 0,  1,  0,  0,  0,  1,  0],
        [ 0,  0,  0,  0,  1,  1,  0],
        [ 0,  0,  0,  0,  0,  1,  0],
        [-1,  0,  0,  0,  0,  0,  0],
        [ 0, -1,  0,  0,  0,  1,  0],
        [-1,  0,  0,  0,  0,  0,  1]
    ], dtype=int),

    # MAP13
    np.array([
        [-1,  0,  0,  0,  0,  0, -1],
        [ 0,  0,  0,  0,  0,  0,  0],
        [ 0,  0,  0,  0,  0,  0,  0],
        [ 0, -1, -1,  1,  1,  1, -1],
        [-1, -1, -1,  1, -1, -1, -1],
        [ 0, -1, -1,  1, -1, -1,  0],
        [-1, -1, -1,  1, -1, -1,  0]
    ], dtype=int),

    # MAP14
    np.array([
        [ 0,  0,  0,  0,  0, -1, -1],
        [-1,  1,  1,  0,  0, -1,  0],
        [ 1,  1,  1,  0,  0,  0,  0],
        [ 0, -1,  0,  0,  0,  0,  0],
        [ 0, -1, -1,  0,  1,  1, -1],
        [ 0, -1, -1, -1,  1, -1, -1],
        [ 0,  1,  1,  1,  1, -1,  1]
    ], dtype=int),

    # MAP15
    np.array([
        [ 1,  1, -1, -1, -1, -1,  1],
        [ 1,  1, -1, -1, -1,  0, -1],
        [ 0,  0,  0,  1,  1,  0, -1],
        [ 0,  0,  0,  1,  1,  1, -1],
        [-1, -1, -1, -1, -1, -1, -1],
        [-1, -1, -1,  1,  1,  1,  1],
        [ 1,  1, -1,  1,  1,  1,  1]
    ], dtype=int),

    # MAP16
    np.array([
        [ 1,  0,  0,  0,  0,  0, -1],
        [ 0,  1,  0,  0,  0,  1,  0],
        [ 0,  0, -1, -1, -1,  0,  0],
        [ 0,  0,  0, -1,  0,  0,  0],
        [ 0,  0,  0,  0,  0, -1,  0],
        [ 1,  1,  0,  0, -1, -1, -1],
        [ 1,  1,  0,  0, -1, -1,  1]
    ], dtype=int),

    # MAP17
    np.array([
        [ 1,  1,  0,  0,  0,  0, -1],
        [ 1,  0,  0,  0,  0,  0,  0],
        [ 1,  0,  0,  0,  0,  0,  0],
        [ 0,  0,  0, -1,  0,  0,  0],
        [ 0,  0, -1,  0,  0,  0,  0],
        [ 0, -1,  0,  0,  0,  0,  0],
        [-1,  0,  0,  0,  0,  0,  1]
    ], dtype=int),

    # MAP18
    np.array([
        [-1, -1,  1, -1, -1,  1,  1],
        [-1, -1, -1,  1, -1,  1,  1],
        [ 0, -1, -1,  1,  1, -1, -1],
        [-1, -1,  0,  1,  1, -1, -1],
        [ 1, -1,  0,  0,  1, -1,  1],
        [-1, -1, -1,  0,  1, -1, -1],
        [ 0, -1,  0, -1,  1, -1, -1]
    ], dtype=int),

    # MAP19
    np.array([
        [ 0,  1, -1,  1, -1,  0,  0],
        [ 0,  1, -1,  1, -1, -1,  0],
        [ 0, -1, -1, -1, -1, -1,  0],
        [ 1,  1, -1, -1, -1,  1,  1],
        [-1,  1, -1,  0,  0, -1, -1],
        [-1,  1,  1,  0,  0,  1,  1],
        [-1, -1, -1,  0,  0,  0,  0]
    ], dtype=int),

    # MAP20
    np.array([
        [ 0,  0,  0, -1,  0,  1,  1],
        [ 0,  1,  0, -1, -1,  1,  1],
        [-1, -1, -1, -1, -1,  0,  0],
        [-1, -1,  1, -1, -1, -1,  0],
        [ 0,  0,  0,  0, -1, -1,  0],
        [ 0,  0,  0,  0,  0,  1,  0],
        [ 1,  0,  0,  0,  0,  0,  0]
    ], dtype=int),

    # MAP21
    np.array([
        [ 0,  0,  0,  0,  0,  0,  1],
        [ 0,  0,  0,  0,  0, -1,  0],
        [ 1,  1,  1,  1, -1, -1,  0],
        [-1,  1,  1,  1, -1, -1,  0],
        [-1, -1,  1,  1,  1, -1, -1],
        [-1, -1, -1, -1, -1, -1,  0],
        [ 1,  1, -1,  0,  0,  0,  0]
    ], dtype=int),

    # MAP22
    np.array([
        [ 1,  0,  0,  0,  0,  0, -1],
        [ 0,  0,  0,  0,  1, -1, -1],
        [ 0,  0, -1, -1,  1, -1, -1],
        [ 0, -1,  1, -1,  0,  0,  0],
        [ 0, -1,  1,  0,  0,  0,  0],
        [ 0, -1,  0,  0,  0,  1,  1],
        [-1,  0,  0,  0,  0,  1,  1]
    ], dtype=int)
]

def get_initial_map(index=None):
    """Return an initial board configuration by index or randomly."""
    if index is None:
        return INITIAL_MAPS[np.random.randint(len(INITIAL_MAPS))]
    return INITIAL_MAPS[index % len(INITIAL_MAPS)]